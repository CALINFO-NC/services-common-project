env:
  global:
    - groupId: com.calinfo-nc.services
    - version: 1.0-SNAPSHOT
    - commonArtifactId: common
    - commonPackaging: jar
    - commonPathPomFile: $TRAVIS_BUILD_DIR/common
    - commonBbuildFileName: common-1.0-SNAPSHOT.jar
language: java
jdk:
    - oraclejdk8
before_install:
  - chmod +x .travis/scripts/artifactory_deploy.sh
script:
  - mvn clean install -DskipTests
#    - .travis/scripts/artifactory_deploy.sh $groupId $commonArtifactId $version $commonPackaging $commonPathPomFile $commonBbuildFileName
# after_success:
#  - git config --global user.email "david.alexis@calinfo-nc.com"
#  - git config --global user.name "Travis CI"
  - ls -a
  - export GIT_TAG=TEST-TAG
  - git tag $GIT_TAG -a -m "Generated tag from TravisCI build $TRAVIS_BUILD_NUMBER"
  - git push origin $GIT_TAG